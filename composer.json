{
  "name": "kununu/testing-bundle",
  "description": "Testing made easy by providing helper classes and fixtures loading",
  "license": "MIT",
  "type": "symfony-bundle",
  "keywords": [
    "tests",
    "symfony",
    "fixtures"
  ],
  "authors": [
    {
      "name": "Hugo Gonçalves",
      "email": "hugo.goncalves@kununu.com"
    },
    {
      "name": "João Alves",
      "email": "joao.alves@kununu.com"
    }
  ],
  "require": {
    "php": ">=8.3",
    "ext-filter": "*",
    "kununu/collections": "^6.4",
    "kununu/data-fixtures": "^13.1",
    "symfony/config": "^6.4",
    "symfony/dependency-injection": "^6.4",
    "symfony/framework-bundle": "^6.4",
    "symfony/http-kernel": "^6.4"
  },
  "require-dev": {
    "ext-json": "*",
    "ext-pdo": "*",
    "aws/aws-sdk-php": "^3.173",
    "doctrine/dbal": "^3.8",
    "doctrine/doctrine-bundle": "~2.16.2",
    "doctrine/doctrine-migrations-bundle": "^3.3",
    "doctrine/orm": "^3.0",
    "elasticsearch/elasticsearch": "^7.10",
    "kununu/scripts": ">=6.1",
    "matthiasnoback/symfony-dependency-injection-test": "^6.1",
    "nyholm/psr7": "^1.8",
    "opensearch-project/opensearch-php": "^2.0",
    "phpstan/phpstan": "^2.1",
    "phpstan/phpstan-phpunit": "^2.0",
    "phpunit/phpunit": "^12.3",
    "psr/cache": "^2.0",
    "rector/rector": "^2.0",
    "shipmonk/composer-dependency-analyser": "^1.8",
    "symfony/browser-kit": "^6.4",
    "symfony/dotenv": "^6.4",
    "symfony/http-client": "^6.4",
    "symfony/http-foundation": "^6.4"
  },
  "suggest": {
    "ext-pdo_mysql": "To run Integration Tests.",
    "aws/aws-sdk-php": "To use DynamoDB fixtures.",
    "doctrine/doctrine-bundle": "To run Integration Tests.",
    "elasticsearch/elasticsearch": "To run Integration Tests.",
    "opensearch-project/opensearch-php": "To run Integration Tests.",
    "psr/cache": "To run Integration Tests.",
    "symfony/http-client": "To run Integration Tests.",
    "symfony/http-foundation": "To run Integration Tests."
  },
  "minimum-stability": "stable",
  "autoload": {
    "psr-4": {
      "Kununu\\TestingBundle\\": "src/"
    }
  },
  "autoload-dev": {
    "psr-4": {
      "Kununu\\TestingBundle\\Tests\\": "tests/"
    }
  },
  "config": {
    "allow-plugins": {
      "kununu/scripts": true,
      "php-http/discovery": true
    },
    "sort-packages": true
  },
  "scripts": {
    "cs": [
      "rm -rf tests/App/var/*",
      "composer kununu:cs-fixer-code src/ tests/"
    ],
    "integration": [
      "rm -rf tests/App/var/*",
      "tests/App/bin/setup_databases.sh test",
      "phpunit --log-events-text phpunit.log --no-coverage --no-logging --no-progress --testsuite Integration"
    ],
    "integration-coverage": [
      "rm -rf tests/App/var/*",
      "tests/App/bin/setup_databases.sh test",
      "XDEBUG_MODE=coverage phpunit --log-events-text phpunit.log --no-progress --testsuite Integration --log-junit tests/.results/integration-junit.xml --coverage-clover tests/.results/coverage-integration.xml --coverage-html tests/.results/Integration"
    ],
    "phpstan": "phpstan",
    "rector": "rector process --dry-run --config rector-ci.php src/ tests/",
    "test": [
      "rm -rf tests/App/var/*",
      "tests/App/bin/setup_databases.sh test",
      "phpunit --log-events-text phpunit.log --no-coverage --no-logging --no-progress --testsuite Unit,Integration"
    ],
    "test-coverage": [
      "rm -rf tests/App/var/*",
      "tests/App/bin/setup_databases.sh test",
      "XDEBUG_MODE=coverage phpunit --log-events-text phpunit.log --no-progress --testsuite Unit,Integration --log-junit tests/.results/tests-junit.xml --coverage-clover tests/.results/tests-clover.xml --coverage-html tests/.results/html"
    ],
    "unit": "phpunit --log-events-text phpunit.log --no-coverage --no-logging --no-progress --testsuite Unit",
    "unit-coverage": "XDEBUG_MODE=coverage phpunit --log-events-text phpunit.log --no-progress --testsuite Unit --log-junit tests/.results/unit-junit.xml --coverage-clover tests/.results/coverage-unit.xml --coverage-html tests/.results/Unit"
  },
  "scripts-descriptions": {
    "cs": "Run PHP CS Fixer with kununu code standards",
    "integration": "Run all integration tests",
    "integration-coverage": "Run all integration tests with coverage report",
    "phpstan": "Run PHPStan",
    "rector": "Run Rector in dry-run mode with CI rules",
    "test": "Run all tests",
    "test-coverage": "Run all tests with coverage report",
    "unit": "Run all unit tests",
    "unit-coverage": "Run all unit tests with coverage report"
  }
}
